#:kivy 2.3.1


<MoodSelect>:
    canvas.before:
        Color:
            rgba: 0.1647, 0.2235, 0.3137 , 1
        Rectangle:
            pos: self.pos
            size: self.size

    text_input: text_input_field
    orientation: "vertical"
    spacing: 20
    padding: 50

    MDScreen:
        md_bg_color: self.theme_cls.secondaryContainerColor

        MDTopAppBar:
            type: "small"
            size_hint_x: .8
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "menu"

            MDTopAppBarTitle:
                text: "Mood Tracker"
                pos_hint: {"center_x": .5}

            MDTopAppBarTrailingButtonContainer:
                MDActionTopAppBarButton:
                    icon: "account-circle-outline"

    Label:
        text: "What's your mood today?"
        size_hint_y: None
        height: 40
        font_size: 24
        color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß

    BoxLayout:
        id: emoji_grid
        spacing: 10
        size_hint_y: None 
        height: 80
        
        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/happy.png'
                on_press: root.emoji_select('happy')
            Label:
                text: 'Happy'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20

        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/sad.png'
                on_press: root.emoji_select('sad')
            Label:
                text: 'Sad'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20


        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/angry.png'
                on_press: root.emoji_select('angry')
            Label:
                text: 'Angry'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20


        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/calm.png'
                on_press: root.emoji_select('calm')
            Label:
                text: 'Calm'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20


        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/excited.png'
                on_press: root.emoji_select('excited')
            Label:
                text: 'Excited'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20


        BoxLayout:
            orientation: 'vertical'
            spacing: 5  # ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            MoodButton:
                background_normal: 'Images/horny.png'
                on_press: root.emoji_select('horny')        
            Label:
                text: 'Sus?'
                font_size: 14  
                color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
                size_hint_y: None
                height: 20

    
    Label:
        text: "üìù Describe your feelings:"
        size_hint_y: None
        height: 30
        color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß
        font_size: 18
        halign: 'left'
        text_size: self.width, None

    TextInput:
        id: text_input_field
        multiline: False
        size_hint_y: None
        height: 100
        hint_text: "Type a short description of your emotions..."
        background_color: 0.9, 0.9, 0.9, 1  # ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        foreground_color: 0, 0, 0, 1  # ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        padding: [10, 10, 10, 10]  # ‡πÄ‡∏û‡∏¥‡πà‡∏° padding ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
    
    Button:
        text: "Get Music Recommendation"
        size_hint_y: None
        height: 50
        on_press: root.submit_mood()
        background_color: 0.4471, 0.3529, 0.4784, 1  # ‡∏™‡∏µ #725A7A
        color: 1, 1, 1, 1  # ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≤‡∏ß
        font_size: 18


# Custom button for mood emojis
<MoodButton@Button>:
    background_normal: ''
    background_color: 1, 1, 1, 1
    border: (0, 0, 0, 0)
    size_hint: (None, None)
    size: 80, 80

    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°
    background_down: self.background_normal
    background_color_down: 0.8, 0.8, 0.8, 1 

    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ
    canvas.before:
        Color:
            rgba: 0.9, 0.9, 0.9, 1 if self.state == 'normal' else 0.7, 0.7, 0.7, 1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10, 10, 10, 10]  # ‡∏ó‡∏≥‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á
            
    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 0.2
        RoundedRectangle:
            pos: self.x + 2, self.y - 2
            size: self.size
            radius: [10, 10, 10, 10]

